KALDI FOR DUMMIES TUTORIAL
THIS IS A STEP BY STEP TUTORIAL FOR ABSOLUTE BEGINNERS ON HOW TO CREATE A SIMPLE ASR AUTOMATIC SPEECH RECOGNITION SYSTEM IN KALDI TOOLKIT USING YOUR OWN SET OF DATA
I REALLY WOULD HAVE LIKED TO READ SOMETHING LIKE THIS WHEN I WAS STARTING TO DEAL WITH KALDI
THIS IS ALL BASED ON MY EXPERIENCE AS AN AMATEUR IN CASE OF SPEECH RECOGNITION SUBJECT AND SCRIPT PROGRAMMING AS WELL
IF YOU HAVE EVER DELVED THROUGH KALDI TUTORIAL ON THE OFFICIAL PROJECT SITE AND FELT A LITTLE BIT LOST
WELL MY PIECE OF ART MIGHT BE THE CHOICE FOR YOU
YOU WILL LEARN HOW TO INSTALL KALDI
HOW TO MAKE IT WORK AND HOW TO RUN AN ASR SYSTEM USING YOUR OWN AUDIO DATA
AS AN EFFECT YOU WILL GET YOUR FIRST SPEECH DECODING RESULTS
IT WAS CREATED BY WIT ZIELINSKI
FIRST OF ALL GET TO KNOW WHAT KALDI ACTUALLY IS AND WHY YOU SHOULD USE IT INSTEAD OF SOMETHING ELSE
IN MY OPINION KALDI REQUIRES SOLID KNOWLEDGE ABOUT SPEECH RECOGNITION AND ASR SYSTEMS IN GENERAL
IT IS ALSO GOOD TO KNOW THE BASICS OF SCRIPT PROGRAMMING LANGUAGES 
BASH PYTHON C PLUS PLUS MIGH BE USEFUL IN THE FUTURE PROBABLY YOU WILL WANT TO MAKE SOME MODIFICATIONS IN THE SOURCE CODE ENVIRONMENT 
RULE NUMBER ONE USE LINUX ALTHOUGH IT IS POSSIBLE TO USE KALDI ON WINDOWS
MOST PEOPLE I FIND TRUSTWORTHY CONVINCED ME THAT LINUX WILL DO THE JOB WITH THE LESS AMOUNT OF PROBLEMS
I HAVE CHOSEN UBUNTU ONE FOUR ONE ZERO 
THIS WAS IN TWO ZERO ONE FOUR ONE FIVE A RICH AND STABLE LINUX REPRESENTATION WHICH I HONESTLY RECOMMEND
WHEN YOU FINALLY HAVE YOUR LINUX RUNNING PROPERLY
PLEASE OPEN A TERMINAL AND INSTALL SOME NECESSARY STUFF IF YOU DO NOT ALREADY HAVE IT 
HAS TO BE INSTALLED 
AUTOMATION AND OPTIMIZATION OF CALCULATIONS IN THE FIELD OF LINEAR ALGEBRA
AUTOMATIC SOFTWARE COMPILATION ON DIFFERENT OPERATING SYSTEMS
CREATING PORTABLE MAKEFILE FILES
DISTRIBUTED REVISION CONTROL SYSTEM
CREATING STATIC AND DYNAMIC LIBRARIES
REVISION CONTROL SYSTEM SUBVERSION
NECESSARY FOR KALDI DOWNLOAD AND INSTALLATION
DATA TRANSFER USING HTTP
DATA COMPRESSION
PROBABLY HAS TO BE INSTALLED 
PROGRAMMING LANGUAGE
USED FOR SEARCHING AND PROCESSING PATTERNS IN FILES AND DATA STREAMS
UNIX SHELL AND SCRIPT PROGRAMMING LANGUAGE
LINE UTILITY FOR SEARCHING PLAIN
TEXT DATASETS FOR LINES MATCHING A REGULAR EXPRESSION
AUTOMATICALLY BUILDS EXECUTABLE PROGRAMS AND LIBRARIES FROM SOURCE CODE
DYNAMIC PROGRAMMING LANGUAGE
PERFECT FOR TEXT FILES PROCESSING
DONE
OPERATING SYSTEM AND ALL THE NECESSARY LINUX TOOLS ARE READY TO GO
DOWNLOAD KALDI 
I INSTALLED KALDI IN THIS DIRECTORY CALLED KALDI ROOT PATH 
KALDI DIRECTORIES STRUCTURE 
TRY TO ACKNOWLEDGE WHERE PARTICULAR KALDI COMPONENTS ARE PLACED
ALSO IT WOULD BE NICE IF YOU READ ANY FILES YOU FIND
MAIN KALDI DIRECTORY WHICH CONTAINS 
EXAMPLE SCRIPTS ALLOWING YOU TO QUICKLY BUILD ASR SYSTEMS FOR OVER THREE ZERO POPULAR SPEECH CORPORA DOCUMENTATION IS ATTACHED FOR EACH PROJECT
ADDITIONAL TOOLS AND SUPPLIES
NOT NEEDED FOR PROPER KALDI FUNCTIONALITY
KALDI SOURCE CODE
USEFUL COMPONENTS AND EXTERNAL TOOLS
TOOLS FOR RUNNING KALDI USING WINDOWS
THE MOST IMPORTANT DIRECTORY FOR YOU IS OBVIOUSLY 
HERE YOU WILL CREATE YOUR OWN ASR SYSTEM
YOUR EXEMPLARY PROJECT 
FOR THE PURPOSE OF THIS TUTORIAL
IMAGINE THAT YOU HAVE THE SAME SIMPLE SET OF DATA AS ME DESCRIBED BELOW
IN AUDIO DATA SECTION
THEN TRY TO TRANSPOSE EVERY ACTION I DO STRAIGHT INTO YOUR OWN PROJECT
IF YOU COMPLETELY DO NOT HAVE ANY AUDIO DATA OR YOU WANT TO FOLLOW MY TUTORIAL IN AN IDENTICAL WAY
FEEL FREE TO RECORD YOUR OWN TRACKS 
IT WILL BE EVEN BIGGER EXPERIENCE TO PLAY WITH ASR
HERE WE GO
YOUR PRECONDITION 
YOU HAVE SOME AMOUNT OF AUDIO DATA THAT CONTAIN ONLY SPOKEN DIGITS BY AT LEAST SEVERAL DIFFERENT SPEAKERS
EACH AUDIO FILE IS AN ENTIRE SPOKEN SENTENCE 
YOUR PURPOSE 
YOU WANT TO DIVIDE YOUR DATA INTO TRAIN AND TEST SETS
SET UP AN ASR SYSTEM
TRAIN IT
TEST IT AND GET SOME DECODING RESULTS
YOUR FIRST TASK 
SOMETHING TO BEGIN WITH 
CREATE A FOLDER IN DIRECTORY
THIS IS A PLACE WHERE YOU WILL PUT ALL THE STUFF RELATED TO YOUR PROJECT
DATA PREPARATION 
AUDIO DATA 
I ASSUME THAT YOU WANT TO SET UP AN ASR SYSTEM
BASING ON YOUR OWN AUDIO DATA
FOR EXAMPLE LET IT BE A SET OF ONE ZERO ZERO FILES
FILE FORMAT IS WAV
EACH FILE CONTAINS THREE SPOKEN DIGITS RECORDED IN ENGLISH LANGUAGE
ONE BY ONE
EACH OF THESE AUDIO FILES IS NAMED IN A RECOGNIZABLE WAY 
WHICH IN MY PATTERN MEANS THAT THE SPOKEN SENTENCE IS ONE
SIX AND PLACED IN THE RECOGNIZABLE FOLDER REPRESENTING PARTICULAR SPEAKER DURING A PARTICULAR RECORDING SESSION THERE MAY BE A SITUATION THAT YOU HAVE RECORDINGS OF THE SAME PERSON BUT IN TWO DIFFERENT QUALITY NOISE ENVIRONMENTS 
PUT THESE IN SEPARATE FOLDERS
SO TO SUM UP
MY EXEMPLARY DATASET LOOKS LIKE THIS 
ONE ZERO DIFFERENT SPEAKERS ASR SYSTEMS MUST BE TRAINED AND TESTED ON DIFFERENT SPEAKERS
THE MORE SPEAKERS YOU HAVE THE BETTER
EACH SPEAKER SAYS ONE ZERO SENTENCES
ONE ZERO ZERO SENTENCES UTTERANCES IN ONE ZERO ZERO *
WAV FILES PLACED IN ONE ZERO FOLDERS RELATED TO PARTICULAR SPEAKERS 
ONE ZERO 
WAV FILES IN EACH FOLDER
THREE ZERO ZERO WORDS DIGITS FROM ZERO TO NINE
EACH SENTENCE UTTERANCE CONSIST OF THREE WORDS
WHATEVER YOUR FIRST DATASET IS
ADJUST MY EXAMPLE TO YOUR PARTICULAR CASE
BE CAREFUL WITH BIG DATASETS AND COMPLEX GRAMMARS 
START WITH SOMETHING SIMPLE
SENTENCES THAT CONTAIN ONLY DIGITS ARE PERFECT IN THIS CASE
GO TO DIRECTORY AND CREATE FOLDER
CREATE TWO FOLDERS AND SELECT ONE SPEAKER OF YOUR CHOICE TO REPRESENT TESTING DATASET
USE THIS SPEAKERS SPEAKER ID AS A NAME FOR AN ANOTHER NEW FOLDER IN DIRECTORY
THEN PUT THERE ALL THE AUDIO FILES RELATED TO THAT PERSON
PUT THE REST NINE SPEAKERS INTO FOLDER 
THIS WILL BE YOUR TRAINING DATASET
ALSO CREATE SUBFOLDERS FOR EACH SPEAKER
ACOUSTIC DATA 
NOW YOU HAVE TO CREATE SOME TEXT FILES THAT WILL ALLOW KALDI TO COMMUNICATE WITH YOUR AUDIO DATA
CONSIDER THESE FILES AS MUST BE DONE
EACH FILE THAT YOU WILL CREATE IN THIS SECTION AND IN LANGUAGE DATA SECTION AS WELL CAN BE CONSIDERED AS A TEXT FILE WITH SOME NUMBER OF STRINGS EACH STRING IN A NEW LINE
THESE STRINGS NEED TO BE SORTED
IF YOU WILL ENCOUNTER ANY SORTING ISSUES YOU CAN USE KALDI SCRIPTS FOR CHECKING AND FIXING DATA ORDER
AND FOR YOUR INFORMATION DIRECTORY WILL BE ATTACHED TO YOUR PROJECT IN TOOLS ATTACHMENT SECTION
CREATE A FOLDER 
THEN CREATE AND SUBFOLDERS INSIDE
CREATE IN EACH SUBFOLDER FOLLOWING FILES SO YOU HAVE FILES NAMED IN THE SAME WAY IN AND SUBFOLDERS BUT THEY RELATE TO TWO DIFFERENT DATASETS THAT YOU CREATED BEFORE 
THIS FILE INFORMS ABOUT SPEAKERS GENDER
AS WE ASSUMED SPEAKER ID IS A UNIQUE NAME OF EACH SPEAKER IN THIS CASE IT IS ALSO A RECORDINGID 
EVERY SPEAKER HAS ONLY ONE AUDIO DATA FOLDER FROM ONE RECORDING SESSION
IN MY EXAMPLE THERE ARE FIVE FEMALE AND FIVE MALE SPEAKERS 
THIS FILE CONNECTS EVERY UTTERANCE SENTENCE SAID BY ONE PERSON DURING PARTICULAR RECORDING SESSION WITH AN AUDIO FILE RELATED TO THIS UTTERANCE
IF YOU STICK TO MY NAMING APPROACH
UTTERANCEID IS NOTHING MORE THAN SPEAKERID SPEAKERS FOLDER NAME GLUED WITH *
WAV FILE NAME WITHOUT WAV ENDING 
LOOK FOR EXAMPLES BELOW
THIS FILE CONTAINS EVERY UTTERANCE MATCHED WITH ITS TEXT TRANSCRIPTION
THIS FILE TELLS THE ASR SYSTEM WHICH UTTERANCE BELONGS TO PARTICULAR SPEAKER
THIS FILE HAS A SLIGHTLY DIFFERENT DIRECTORY
CREATE ANOTHER FOLDER 
CREATE A FILE WHICH SHOULD CONTAIN EVERY SINGLE UTTERANCE TRANSCRIPTION THAT CAN OCCUR IN YOUR ASR SYSTEM IN OUR CASE IT WILL BE ONE ZERO ZERO LINES FROM ONE ZERO ZERO AUDIO FILES
LANGUAGE DATA 
THIS SECTION RELATES TO LANGUAGE MODELING FILES THAT ALSO NEED TO BE CONSIDERED AS MUST BE DONE
LOOK FOR THE SYNTAX DETAILS HERE DATA PREPARATION EACH FILE IS PRECISELY DESCRIBED
ALSO FEEL FREE TO READ SOME EXAMPLES IN OTHER SCRIPTS
NOW IS THE PERFECT TIME
THIS FILE CONTAINS EVERY WORD FROM YOUR DICTIONARY WITH ITS PHONE TRANSCRIPTIONS TAKEN FROM 
PATTERN WORD PHONE ONE PHONE TWO 
THIS FILE LISTS NONSILENCE PHONES THAT ARE PRESENT IN YOUR PROJECT
THIS FILE LISTS SILENCE PHONES
THIS FILE LISTS OPTIONAL SILENCE PHONES
PROJECT FINALIZATION 
LAST CHAPTER BEFORE RUNNIG SCRIPTS CREATION
YOUR PROJECT STRUCTURE WILL BECOME COMPLETE
TOOLS ATTACHMENT 
YOU NEED TO ADD NECESSARY KALDI TOOLS THAT ARE WIDELY USED IN EXEMPLARY SCRIPTS
FROM COPY TWO FOLDERS WITH THE WHOLE CONTENT AND PUT THEM IN YOUR DIRECTORY
YOU CAN ALSO CREATE LINKS TO THESE DIRECTORIES
YOU MAY FIND SUCH LINKS IN FOR EXAMPLE SCORING SCRIPT 
THIS SCRIPT WILL HELP YOU TO GET DECODING RESULTS
COPY THE SCRIPT INTO SIMILAR LOCATION IN YOUR PROJECT 
SRILM INSTALLATION 
YOU ALSO NEED TO INSTALL LANGUAGE MODELLING TOOLKIT THAT IS USED IN MY EXAMPLE 
SRI LANGUAGE MODELING TOOLKIT SRILM
FOR DETAILED INSTALLATION INSTRUCTIONS GO TO READ ALL COMMENTS INSIDE CONFIGURATION FILES 
IT IS NOT NECESSARY TO CREATE CONFIGURATION FILES BUT IT CAN BE A GOOD HABIT FOR FUTURE
INSIDE CREATE TWO FILES FOR SOME CONFIGURATION MODIFICATIONS IN DECODING AND MFCC FEATURE EXTRACTION PROCESSES 
YOUR FIRST ASR SYSTEM WRITTEN IN KALDI ENVIRONMENT IS ALMOST READY
YOUR LAST JOB IS TO PREPARE RUNNING SCRIPTS TO CREATE ASR SYSTEM OF YOUR CHOICE
I PUT SOME COMMENTS IN PREPARED SCRIPTS FOR EASE OF UNDERSTANDING
THESE SCRIPTS ARE BASED ON SOLUTION USED IN DIRECTORY
I DECIDED TO USE TWO DIFFERENT TRAINING METHODS 
MONOPHONE TRAINING 
SIMPLE TRIPHONE TRAINING FIRST TRIPHONE PASS
THESE TWO METHODS ARE ENOUGH TO SHOW NOTICABLE DIFFERENCES IN DECODING RESULTS USING ONLY DIGITS LEXICON AND SMALL TRAINING DATASET
IN DIRECTORY CREATE THREE SCRIPTS 
SETTING LOCAL SYSTEM JOBS LOCAL CPU 
NO EXTERNAL CLUSTERS 
NUMBER OF PARALLEL JOBS 
ONE IS PERFECT FOR SUCH A SMALL DATASET 
ONE IS ENOUGH FOR DIGITS GRAMMAR 
SAFETY MECHANISM POSSIBLE RUNNING THIS SCRIPT WITH MODIFIED ARGUMENTS 
UNCOMMENT AND MODIFY ARGUMENTS IN SCRIPTS BELOW IF YOU HAVE ANY PROBLEMS WITH DATA SORTING 
UTILS VALIDATE DATA DIR
SH DATA TRAIN SCRIPT FOR CHECKING PREPARED DATA 
HERE FOR DATA TRAIN DIRECTORY 
UTILS FIX DATA DIR
SH DATA TRAIN TOOL FOR DATA PROPER SORTING IF NEEDED 
HERE FOR DATA TRAIN DIRECTORY 
GETTING RESULTS 
NOW ALL YOU HAVE TO DO IS TO RUN SCRIPT
IF I HAVE MADE ANY MISTAKES IN THIS TUTORIAL
LOGS FROM THE TERMINAL SHOULD GUIDE YOU HOW TO DEAL WITH IT
BESIDES THE FACT THAT YOU WILL NOTICE SOME DECODING RESULTS IN THE TERMINAL WINDOW
GO TO NEWLY MADE 
YOU MAY NOTICE THERE FOLDERS WITH AND RESULTS AS WELL 
DIRECTORIES STRUCTURE ARE THE SAME
GO TO DIRECTORY
HERE YOU MAY FIND RESULT FILES NAMED IN A WAY
LOGS FOR DECODING PROCESS MAY BE FOUND IN FOLDER SAME DIRECTORY
THIS IS JUST AN EXAMPLE
THE POINT OF THIS SHORT TUTORIAL IS TO SHOW YOU HOW TO CREATE ANYTHING IN KALDI AND TO GET A BETTER UNDERSTANDING OF HOW TO THINK WHILE USING THIS TOOLKIT
PERSONALLY I STARTED WITH LOOKING FOR TUTORIALS MADE BY THE KALDI AUTHORS DEVELOPERS
AFTER SUCCESSFUL KALDI INSTALLATION I LAUNCHED SOME EXAMPLE SCRIPTS 
VOXFORGE
LIBRISPEECH 
THEY ARE RELATIVELY EASY AND HAVE FREE ACOUSTIC LANGUAGE DATA TO DOWNLOAD 
I USED THESE THREE AS A BASE FOR MY OWN SCRIPTS
MAKE SURE YOU FOLLOW HTTP KALDI
OFFICIAL PROJECT WEBSITE
THERE ARE TWO VERY USEFUL SECTIONS FOR BEGINNERS INSIDE A
KALDI TUTORIAL 
ALMOST STEP BY STEP TUTORIAL ON HOW TO SET UP AN ASR SYSTEM
UP TO SOME POINT THIS CAN BE DONE WITHOUT RM DATASET
IT IS GOOD TO READ IT
DATA PREPARATION 
VERY DETAILED EXPLANATION OF HOW TO USE YOUR OWN DATA IN KALDI